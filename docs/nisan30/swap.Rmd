---
output: 
  rmdformats::downcute
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(rmarkdown)
library(DT)
x= as.Date("2021-03-12") ###### brutr
y= as.Date("2021-03-12") ###### yabanci mb
z= as.Date("2021-03-12") ###### mat (swap)
##### x2 y2 z2ler bir hafta oncesinin kodu
x2 = as.Date("2021-03-05") #### brutr
y2 = as.Date("2021-03-05") #### yabanci mb
z2 = as.Date("2021-03-05") #### mat swap

### tabloların tarihleri
ilkk <- as.Date("2021-01-01") #diğer verileri başlangıç
ilkk2 <- as.Date("2021-01-04") #swap başlangıç

source(paste0(getwd(),"/graphs.R"))
```


## Merkez Bankasi Bilancosu

<div style="float: left;"><a href="EN">EN</a></div>
<div style="float: right;"><a href="arsiv">Arsiv</a></div>

```{r, echo=FALSE, warning=FALSE, message=FALSE}
DT::datatable(
  yutk,options = list(dom = 't' ), 
  caption = paste0(x," Tarihli ",'Merkez Bankasi Bilancosu ')
)
```


`r paste0("TCMB'nin ", 
       x,
       " tarihli net rezervleri gectigimiz haftaya gore ",
       paste0(abs(round(netrezerv(x=x)-netrezerv(x=x2),2)))," milyon dolar",
       ifelse(sign(netrezerv(x=x)-netrezerv(x=x2))==1, paste0(" artarken"), paste0(" azalirken")),
       " yilbasina gore ise ",
       paste0(abs(round(netrezerv(x=x)-netrezerv(x="2021-01-01"),2)))," milyon dolar",
       ifelse(sign(netrezerv(x=x)-netrezerv(x="2021-01-01"))==1, paste0(" artmistir."), paste0(" azalmistir.")),
       " Swap haric net rezervlerde bir hafta icinde ",
       paste0(abs(round(swapharic(x=x,y=y,z=z)-swapharic(x= "2021-04-23",
                                                         y= "2021-04-22",
                                                         z= "2021-04-22"),2))), " milyon dolar'lik bir",
       ifelse(sign(swapharic(x=x,y=y,z=z)-swapharic(x= "2021-04-23",
                                                    y= "2021-04-22",
                                                    z= "2021-04-22"))==1, paste0(" artis oldugu"), paste0(" kayip yasandigi")),
       " gorunurken",
       " yilbasi ile kiyaslandiginda ",
       paste0(abs(round(swapharic(x=x,y=y,z=z)-swapharic(1),2))), " milyon dolar",
       ifelse(sign(swapharic(x=x,y=y,z=z)-swapharic(1))==1, paste0(" arttigi"), paste0(" azaldigi")),
       " gorunuyor."
       ) `
       
`r paste0("Net altin varliklari bir hafta sonunda ",
       paste0(abs(round(fnra(x=x)-fnra(x=x2),2))), " milyon dolar",
       ifelse(sign(fnra(x=x)-fnra(x=x2))==1, paste0(" artmis"), paste0(" azalmis")),
       " ve yilbasindan bu yana ",
       paste0(abs(round(fnra(x=x)-fnra(x="2021-01-01"),2))), " milyon dolar",
       ifelse(sign(fnra(x=x)-fnra(x="2021-01-01"))==1, paste0(" artarak "), paste0(" azalarak ")),
       paste0(round(fnra(x=x),2)), " milyon dolar olmustur."
       
) `
`r paste0("Net doviz varliklari da bu bir haftada ",
       paste0(abs(round(fnrd(x=x)-fnrd(x=x2),2))), " milyon dolar",
       ifelse(sign(fnrd(x=x)-fnrd(x=x2))==1, paste0(" artmis"), paste0(" azalmis")),
       " ve yilbasindan itibaren ise ",
       paste0(abs(round(fnrd(x=x)-fnrd(x="2021-01-01"),2))), " milyon dolar",
       ifelse(sign(fnrd(x=x)-fnrd(x="2021-01-01"))==1, paste0(" artarak "), paste0(" azalarak ")),
       paste0(round(fnrd(x=x),2)), " milyon dolar olmustur."
       
) `

`r paste0("Swap haric net altin varliklari ise gecen haftaya gore ",
       paste0(abs(round(fsnra(x=x,z=z)-fsnra(x= "2021-04-23",
                                             z= "2021-04-22"),2))), " milyon dolar'lik",
       ifelse(sign(fsnra(x=x,z=z)-fsnra(x= "2021-04-23",
                                       z= "2021-04-22"))==1, paste0(" artisla"), paste0(" kayipla")), " birlikte ",
       paste0(round(fsnra(x=x,z=z),2)), " milyon dolar'a ulasmis, ",
       "Swap haric net doviz varliklari da ",
       paste0(abs(round(fsnrd(x=x,y=y,z=z)-fsnrd(x= "2021-04-23",
                                                 y= "2021-04-22",
                                                 z= "2021-04-22"),2)))," milyon dolar'lik",
       ifelse(sign(fsnrd(x=x,y=y,z=z)-fsnrd(x= "2021-04-23",
                                            y= "2021-04-22",
                                            z= "2021-04-22"))==1, paste0(" artis"), paste0(" azalis"))," ile ",
       paste0(round(fsnrd(x=x,y=y,z=z),2)), " olmustur."
) `

`r paste0("Bilanco ici ve bilanco disi toplam yukumlulukler ise gecen haftaya gore ",
       paste0(abs(round(lia[time == as.Date(x)]$lia-lia[time ==as.Date(x2)]$lia,2))), " milyon dolar",
       ifelse(sign(lia[time == as.Date(x)]$lia-lia[time ==as.Date(x2)]$lia)==1, paste0(" artmis"), paste0(" azalmis"))," ve yilbasina gore de ",
paste0(abs(round(lia[time == as.Date(x)]$lia-lia[time ==as.Date("2021-01-01")]$lia,2))), " milyon dolar ",
ifelse(sign( lia[time == as.Date(x)]$lia - lia[time ==as.Date("2021-01-01")]$lia )==1, paste0(" artarak "), paste0(" azalarak ")),
paste0(round(lia[time == as.Date(x)]$lia/1000,2)), " milyar dolar olmustur."
        
) `

`r paste0( "Bilanco disi yukumluluklerin brut rezervlere orani ise %", round(sbr[time == x]$rate,2), " olmustur.")`

### Merkez Bankasi Rezervleri ve Yukumlulukleri

```{r, echo=FALSE, warning=FALSE, message=FALSE, out.width="110%"}
fig
```

### Net Rezerv Pozisyonu

```{r, echo=FALSE, warning=FALSE, message=FALSE, out.width="110%"}
nr
```

### Swap Haric Net Rezerv Pozisyonu

```{r, echo=FALSE, warning=FALSE, message=FALSE, out.width="110%"}
snr
```


### Bilanco Disi Islemlerin Buyuklugu

```{r, echo=FALSE, warning=FALSE, message=FALSE, out.width="110%"}
zama
```

## Detayli Tablo

```{r, echo=FALSE, warning=FALSE, message=FALSE}
DT::datatable(
  det_tab,options = list(dom = 't',
                         pageLength = 33), 
  caption = paste0(x," Tarihli ",'Detayli Merkez Bankasi Bilancosu ')
) %>% formatStyle(
  'Hesaplar',
  target = 'row',
  backgroundColor = styleEqual(c("Brut Rezerv Doviz" , #1
"Toplam Nakit ve Mevduat" , #2
"Menkul Kiymetler" , #3
"Brut Rezerv Altin" , #4
"Brut Rezerv SDR" , #5
"Brut Rezervler Toplami" , #6 
"Bankacilik Sektoru Bilancosu" , #7
"Zorunlu Karsiliklar" , #8
"Zorunlu Karsiliklar Doviz" , #9
"Zorunlu Karsiliklar Altin" , #10
"Yurtici Bankalar" , #11
"Yurtici Banka Nakit" , #12
"Yurtici Banka Teminat" , #13
"Yurtici Bankalar Altin" , #14
"Yurtdisi Bankalar" , #15
"SDR yukululugu" , #16
"Diger Mevduatlar" , #17
"Bilanco ici Doviz Yukumlulugu" , #18
"Bilanco ici Altin Yukumlulugu" , #19
"Bilanco ici Yukumlulukler" , #20
"Yurtici Bankalar Swap" , #21
"Yurtici Bankalar Doviz Swapi" , #22
"Yurtici Bankalar Altin Swapi" , #23
"Yurtici Merkez Bankalari Swap" , #24
"Bilanco Disi Doviz Yukumlulugu" , #25
"Bilanco Disi Altin Yukumlulugu" , #26
"Bilanco Disi Yukumlulukler" , #27
"Net Doviz Rezervi" , #28
"Net Altin Rezervi" , #29
"Net Rezervler" , #30
"Swap Haric Net Doviz Rezervi" , #31
"Swap Haric Net Altin Rezervi" ,  #32
"Swap Haric Net Rezervler"  #33
), 
c("#A9A9A9" , #1
"#808080" , #2
"#808080" , #3
"#A9A9A9" , #4
"#A9A9A9", #5
"white" , #6 
"#A9A9A9" , #7
"#808080" , #8
"#696969" , #9
"#696969" , #10
"#808080" , #11
"#696969" , #12
"#696969" , #13
"#696969" , #14
"#A9A9A9" , #15
"#A9A9A9" , #16
"#A9A9A9", #17
"#DCDCDC" , #18
"#DCDCDC" , #19
"white" , #20
"#A9A9A9" , #21
"#808080" , #22
"#808080" , #23
"#A9A9A9" , #24
"#DCDCDC" , #25
"#DCDCDC" , #26
"wh#te" , #27
"#DCDCDC" , #28
"#DCDCDC" , #29
"white" , #30
"#DCDCDC" , #31
"#DCDCDC" ,  #32
"white"  #33
 ))
)
```

## Metodoloji


<a href="#">Go to top of page</a>